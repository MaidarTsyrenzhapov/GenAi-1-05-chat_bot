# Chatbot –Ω–∞ –±–∞–∑–µ Hugging Face Transformers

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —á–∞—Ç-–±–æ—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [Hugging Face Transformers](https://huggingface.co/docs/transformers/index).  
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª—å [DialoGPT](https://huggingface.co/microsoft/DialoGPT-medium), –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–º–µ–Ω–∏—Ç—å –µ—ë –Ω–∞ –ª—é–±—É—é –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å –¥–∏–∞–ª–æ–≥–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –í–µ–¥–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å –±–æ—Ç–æ–º.
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É **—Ç–æ–∫–µ–Ω–æ–≤**, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º).
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ `pad_token_id` –∏–∑ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä–∞ (–±–µ–∑ —Ö–∞—Ä–¥–∫–æ–¥–∞).
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ –∏ –æ—à–∏–±–æ–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–≤ —Ç–æ–º —á–∏—Å–ª–µ `CUDA out of memory`).
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–∞ –≤ —Ñ–∞–π–ª `history.txt`.

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install transformers torch


## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç:

python chatbot.py


–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ:

Type 'exit' to quit the chat.
You:


–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∏ –±–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç.
–î–ª—è –≤—ã—Ö–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ exit, quit –∏–ª–∏ –≤—ã—Ö–æ–¥.

## üìù –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞
-- Type 'exit' to quit the chat.
-- You: Hello!
-- Bot: Hi there! How are you doing today?
-- You: I'm fine, thanks.
-- Bot: Glad to hear that! What would you like to talk about?



## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å: microsoft/DialoGPT-medium.
–ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –µ—ë –≤ —Ñ—É–Ω–∫—Ü–∏–∏ create_chatbot(model_name=...).
–ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –¥–æ 200 —Ç–æ–∫–µ–Ω–æ–≤ (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ trim_history).

## üìÇ –§–∞–π–ª—ã

chatbot.py ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç.
history.txt ‚Äî —Ñ–∞–π–ª, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞.
